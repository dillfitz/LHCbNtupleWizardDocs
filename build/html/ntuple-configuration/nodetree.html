<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuring the Node Tree &mdash; Ntuple Wizard Documentation  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels.css" type="text/css" />
      <link rel="stylesheet" href="../_static/wizard.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/panels.js?v=0f4bdeea"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tuple Tools" href="tupletools.html" />
    <link rel="prev" title="Creating an Ntuple Object" href="ntuple-creation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../README.html" class="icon icon-home">
            Ntuple Wizard Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../dataset-discovery/README.html">Dataset Discovery</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dataset-discovery/selecting-decays.html">Selecting Decays</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../dataset-discovery/selecting-decays.html#filtering-decays">Filtering Decays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../dataset-discovery/stripping-lines.html">Choosing a Stripping Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dataset-discovery/bookkeeping-path.html">Choosing a dataset to process</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="README.html">Ntuple Configuration</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ntuple-creation.html">Creating an Ntuple Object</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuring the Node Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="tupletools.html">Tuple Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="submitting-requests.html">Submitting Requests</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring-output/README.html">Monitoring and Retrieving Output</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../monitoring-output/monitoring-output.html">Monitoring Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="../monitoring-output/retrieving-output.html">Retrieving Output</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../README.html">Ntuple Wizard Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../README.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="README.html">Ntuple Configuration</a></li>
      <li class="breadcrumb-item active">Configuring the Node Tree</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/lhcb/starterkit-lessons/blob/master/source/ntuple-configuration/nodetree.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="configuring-the-node-tree">
<h1>Configuring the Node Tree<a class="headerlink" href="#configuring-the-node-tree" title="Link to this heading"></a></h1>
<p>The Ntuple is configured with an interactive node tree that represents the selected physics process, typically a particle decay. The particles in the decay are rendered as nodes in the tree, each of which can be independently configured with the addition of tools, called TupleTools. TupleTools write collections of variables to the output Ntuple, with the set of variables categorized by different TupleTool names. The entire candidate comes with 5 default TupleTools useful for analyzing LHCb data. More information about the default TupleTools, as well as other available tools can be found <a class="reference external" href="https://lhcb.github.io/starterkit-lessons/first-analysis-steps/add-tupletools.html">here</a>. Tools applied to the entire candidate are applied to each node in the tree. The entire candidate can be configured when no particular nodes in the tree are selected. A screenshot of the node tree with the default TupleTools applied to the entire physics process is shown in the figure below.</p>
<p><img alt="Node Tree" src="../_images/node_tree_tools.png" /></p>
<p>Nodes can be selected by clicking their location on the graph, at which point the selected nodes will be highlighted in blue. A collection of nodes can be selected in the following ways:</p>
<ul class="simple">
<li><p>Hold CTRL and click on the desired nodes in succession, releasing CTRL once all desired nodes are selected</p></li>
<li><p>Hold Shift + click and drag a window to select the desired nodes, then release Shift + click</p></li>
<li><p>Select a grouping of nodes by choosing a category under the “Select by category” heading, all nodes corresponding to the chosen category will be selected</p></li>
</ul>
<p>Each node, or collection of nodes, will have an associated set of TupleTools. In the screenshot below, TupleToolTISTOS is applied to the decay products of the <span class="math notranslate nohighlight">\(`D^{0}`\)</span> to obtain information about the trigger decisions (where TISTOS means Trigger Independent of Signal, Trigger On Signal). The procedure for adding and configuring TupleTools is discussed on the next page.</p>
<p><img alt="Selected Nodes" src="../_images/node_tree_tools_selected.png" /></p>
<div class="panel panel-callout docutils container">
<div class="panel-header open docutils container">
<p id="duplicate-tupletools-on-nodes"><i class="fa fa-info-circle"></i> Duplicate TupleTools on nodes</p>
</div>
<div class="panel-body docutils container">
<p>It can be the case that the same TupleTool is applied to a particular node twice, for example, once on the entire candidate, and once on the individual node. This should be avoided, as it can result in errors in data processing.</p>
</div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ntuple-creation.html" class="btn btn-neutral float-left" title="Creating an Ntuple Object" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tupletools.html" class="btn btn-neutral float-right" title="Tuple Tools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, LHCb.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>